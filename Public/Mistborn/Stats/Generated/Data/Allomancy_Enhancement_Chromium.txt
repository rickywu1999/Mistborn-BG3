// Chromium Negate
new entry "Chromium_Negate_Base"
type "SpellData"
data "SpellType" "Target"
using "Target_Counterspell"
data "Icon" "Spell_Enhancement_Aluminum_Counterspell"
data "DisplayName" "hef1c9e2a70ec4c2a9cd16f262cb64d7c649g;2"
data "Description" "ha322b5723d0b42a8abe954a5223b4933d685;8"
data "Level" ""
data "TargetRadius" "2"
data "SpellSchool" ""
data "ExtraDescription" "hab762bde53fc48eeae6b9bd2274234cbcdab;2"
data "ExtraDescriptionParams" "10;1"
data "UseCosts" "ReactionActionPoint:1;MetalReserves:1"
data "RootSpellID" ""
data "InterruptPrototype" "Interrupt_Chromium_Counterspell_Base"
data "SpellFlags" ""

new entry "Chromium_Negate_Enhance"
type "SpellData"
data "SpellType" "Target"
using "Chromium_Negate_Base"
data "Icon" "Spell_Enhancement_Aluminum_Counterspell"
data "DisplayName" "h81e9990c9d9748ceb7bf3b0df5a38ce27fc3;2"
data "ExtraDescriptionParams" "10;2"
data "UseCosts" "ReactionActionPoint:1;MetalReserves:2"
data "InterruptPrototype" "Interrupt_Chromium_Counterspell_Enhance"

new entry "Chromium_Negate_Flare"
type "SpellData"
data "SpellType" "Target"
using "Chromium_Negate_Base"
data "Icon" "Spell_Enhancement_Aluminum_Counterspell"
data "DisplayName" "h33b6087ccd0d49bf9af6dbc15a9c015763dc;2"
data "RequirementConditions" "HasStatus('FLARING_UNLOCK')"
data "TooltipPermanentWarnings" "c98b3f22-3bad-467c-9e68-1342ab3b07b5"
data "ExtraDescriptionParams" "10;4"
data "UseCosts" "ReactionActionPoint:1;MetalReserves:4"
data "InterruptPrototype" "Interrupt_Chromium_Counterspell_Flare"

new entry "Interrupt_Chromium_Counterspell_Base"
type "InterruptData"
using "Interrupt_Counterspell"
data "Icon" "Spell_Enhancement_Aluminum_Counterspell"
data "DisplayName" "hef1c9e2a70ec4c2a9cd16f262cb64d7c649g;2"
data "Description" "hf91255b95b294dabad63f37c0fe76a237dcd;8"
data "DescriptionParams" "1"
data "Conditions" "not DistanceToEntityGreaterThan(2, context.ObserverPosition, context.Source) and not HasSpellCastBlocked(context.Observer) and IsAbleToReact(context.Observer) and not Self(context.Source, context.Observer) and Enemy(context.Source, context.Observer) and IsSpell() and not Uninterruptible() and not HasStringInSpellRoll('WeaponAttack') and not AnyEntityIsItem() and not SpellId('Shout_END_Gale_ActivateNethereseOrb') and CounterspellCheck(context.Observer, context.Source)"
data "Roll" "TryCounterspellHigherLevel(1)"
data "Success" "Counterspell();UseSpell(OBSERVER_SOURCE,Target_Chromium_CounterSpell_Success,true,true,true)"
data "Failure" "UseSpell(OBSERVER_SOURCE,Target_Chromium_CounterSpell_Failure,true,true,true)"
data "Cost" "ReactionActionPoint:1;MetalReserves:1"

new entry "Interrupt_Chromium_Counterspell_Enhance"
type "InterruptData"
using "Interrupt_Chromium_Counterspell_Base"
data "DisplayName" "h81e9990c9d9748ceb7bf3b0df5a38ce27fc3;2"
data "DescriptionParams" "2"
data "Roll" "TryCounterspellHigherLevel(2)"
data "Cost" "ReactionActionPoint:1;MetalReserves:2"

new entry "Interrupt_Chromium_Counterspell_Flare"
type "InterruptData"
using "Interrupt_Chromium_Counterspell_Base"
data "DisplayName" "h33b6087ccd0d49bf9af6dbc15a9c015763dc;2"
data "DescriptionParams" "4"
data "Conditions" "HasStatus('FLARING_UNLOCK',context.Observer) and not DistanceToEntityGreaterThan(2, context.ObserverPosition, context.Source) and not HasSpellCastBlocked(context.Observer) and IsAbleToReact(context.Observer) and not Self(context.Source, context.Observer) and Enemy(context.Source, context.Observer) and IsSpell() and not Uninterruptible() and not HasStringInSpellRoll('WeaponAttack') and not AnyEntityIsItem() and not SpellId('Shout_END_Gale_ActivateNethereseOrb') and CounterspellCheck(context.Observer, context.Source)"
data "Roll" "TryCounterspellHigherLevel(4)"
data "Cost" "ReactionActionPoint:1;MetalReserves:4"

new entry "Target_Chromium_CounterSpell_Success"
type "SpellData"
data "SpellType" "Target"
using "Chromium_Negate_Base"
data "InterruptPrototype" ""
data "CastSound" "Spell_Cast_Control_CounterSpell_L1to3"
data "TargetSound" "Spell_Impact_Control_CounterSpell_L1to3"
data "CastTextEvent" "Cast"
data "SpellAnimation" "3ff87abf-1ea1-4c32-aadf-c822d74c7dc0,,;,,;c17a3562-3758-4c4a-96e8-790cebed1df4,a1227ad0-1db2-4941-836b-0a8d85b87a0b,aef20313-abe9-4abb-8ecf-65c22d25ea80;a8012b19-b279-45ec-89b0-86a1b73ad584,92b2bf7e-5fd5-4016-acb9-dae833b7c2e2,a6874259-8dd1-46fa-99f8-6a19ebb19087;d8925ce4-d6d9-400c-92f5-ad772ef7f178,,;,,;eadedcce-d01b-4fbb-a1ae-d218f13aa5d6,,;efbf3ee5-7340-4b29-8ab5-113b004a8e7b,,;95c387b6-3756-4bb5-accf-75a117eefb5f,,"
data "CastEffect" "77c412b1-9229-4ac2-b85e-12e0a7fd1f5a"
data "TargetEffect" "dc81981e-3e4a-40f0-92eb-dd41b0d1da59"
data "BeamEffect" ""
data "InterruptPrototype" ""

new entry "Target_Chromium_CounterSpell_Failure"
type "SpellData"
data "SpellType" "Target"
using "Target_Chromium_CounterSpell_Success"
data "TargetRadius" "1.5"
data "DisplayName" "h54fa64b7g22ebg48abg86f5ga33a483739d2;3"
data "CastSound" "Spell_Cast_Control_CounterSpell_L1to3"
data "TargetSound" ""
data "CastTextEvent" "Cast"
data "SpellAnimation" "3ff87abf-1ea1-4c32-aadf-c822d74c7dc0,,;,,;c17a3562-3758-4c4a-96e8-790cebed1df4,a1227ad0-1db2-4941-836b-0a8d85b87a0b,aef20313-abe9-4abb-8ecf-65c22d25ea80;a8012b19-b279-45ec-89b0-86a1b73ad584,92b2bf7e-5fd5-4016-acb9-dae833b7c2e2,a6874259-8dd1-46fa-99f8-6a19ebb19087;d8925ce4-d6d9-400c-92f5-ad772ef7f178,,;,,;eadedcce-d01b-4fbb-a1ae-d218f13aa5d6,,;efbf3ee5-7340-4b29-8ab5-113b004a8e7b,,;95c387b6-3756-4bb5-accf-75a117eefb5f,,"
data "CastEffect" "77c412b1-9229-4ac2-b85e-12e0a7fd1f5a"
data "TargetEffect" ""
data "BeamEffect" ""





// Chromium Leach
new entry "Chromium_Leach_Container"
type "SpellData"
data "SpellType" "Target"
data "ContainerSpells" "Chromium_Leach_Base;Chromium_Leach_Enhance;Chromium_Leach_Flare"
data "TargetRadius" "1.5"
data "SpellRoll" "Attack(AttackType.MeleeSpellAttack)"
data "SpellSuccess" "ApplyStatus(CHROMIUMDRAIN_1,100,-1);"
data "TargetConditions" "Character() and not Self() and MistbornHasSpellSlots()"
data "Icon" "Spell_Necromancy_VampiricTouch"
data "DisplayName" "h497cf67e6fa8438192a556dae5ff88a8e2ea;1"
data "Description" "hfc27206d1eda4f71b84d122c71727945e311;3"
data "DescriptionParams" "1"
data "TooltipAttackSave" "MeleeSpellAttack"
data "PrepareSound" "Spell_Prepare_Buff_BlessingOfTheTickster_L1to3"
data "PrepareLoopSound" "Spell_Prepare_Buff_BlessingOfTheTickster_L1to3_Loop"
data "CastSound" "CrSpell_Cast_Shadow_StrengthDrain"
data "TargetSound" "CrSpell_Impact_Shadow_StrengthDrain"
data "PreviewCursor" "Cast"
data "CastTextEvent" "Cast"
data "CycleConditions" "Character() and not Self() and not Dead()"
data "UseCosts" "ActionPoint:1;MetalReserves:1"
data "SpellAnimation" "3ff87abf-1ea1-4c32-aadf-c822d74c7dc0,,;,,;c17a3562-3758-4c4a-96e8-790cebed1df4,,;a8012b19-b279-45ec-89b0-86a1b73ad584,,;d8925ce4-d6d9-400c-92f5-ad772ef7f178,,;,,;eadedcce-d01b-4fbb-a1ae-d218f13aa5d6,,;,,;,,"
data "VerbalIntent" "Debuff"
data "SpellFlags" "HasSomaticComponent;IsMelee;IsLinkedSpellContainer;IsHarmful"
data "HitAnimationType" "MagicalDamage_Internal"
data "PrepareEffect" "7f0776b1-c6be-4b20-b765-d81160346765"
data "CastEffect" "6ada9530-4979-468f-89b8-c6d64dea13fd"

new entry "Chromium_Leach_Base"
type "SpellData"
data "SpellType" "Target"
using "Chromium_Leach_Container"
data "SpellContainerID" "Chromium_Leach_Container"

new entry "Chromium_Leach_Enhance"
type "SpellData"
data "SpellType" "Target"
using "Chromium_Leach_Container"
data "SpellContainerID" "Chromium_Leach_Container"
data "DisplayName" "h13711f0c1ace4505b9e9c58556a571d90204;1"
data "DescriptionParams" "3"
data "SpellSuccess" "ApplyStatus(CHROMIUMDRAIN_3,100,-1);"
data "UseCosts" "ActionPoint:1;MetalReserves:2"

new entry "Chromium_Leach_Flare"
type "SpellData"
data "SpellType" "Target"
using "Chromium_Leach_Container"
data "SpellContainerID" "Chromium_Leach_Container"
data "DisplayName" "habb99eecd247469d98aee8a937b3dc15728f;1"
data "DescriptionParams" "6"
data "SpellSuccess" "ApplyStatus(CHROMIUMDRAIN_6,100,-1);"
data "UseCosts" "ActionPoint:1;MetalReserves:4"
data "RequirementConditions" "HasStatus('FLARING_UNLOCK')"
data "TooltipPermanentWarnings" "c98b3f22-3bad-467c-9e68-1342ab3b07b5"


new entry "CHROMIUMDRAIN_1"
type "StatusData"
data "StatusType" "BOOST"
data "Icon" "Spell_Necromancy_VampiricTouch"
data "DisplayName" "h497cf67e6fa8438192a556dae5ff88a8e2ea;2"
data "OnApplyFunctors" "IF(HasActionResource('SpellSlot', 1,1, false, false, context.Target)):UseActionResource(SpellSlot,1,1);;RemoveStatus(CHROMIUMDRAIN_2)"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator;InitiateCombat;BringIntoCombat"
data "SoundVocalStart" "WEAK"
data "ApplyEffect" "d8013c29-59a7-4270-a726-c480dab5ed15"

new entry "CHROMIUMDRAIN_2"
type "StatusData"
data "StatusType" "BOOST"
using "CHROMIUMDRAIN_1"
data "OnApplyFunctors" "IF(HasActionResource('SpellSlot', 1,2, false, false, context.Target)):UseActionResource(SpellSlot,1,2);IF(not HasActionResource('SpellSlot', 1,2, false, false, context.Target)):ApplyStatus(CHROMIUMDRAIN_1,100,-1);RemoveStatus(CHROMIUMDRAIN_2)"

new entry "CHROMIUMDRAIN_3"
type "StatusData"
data "StatusType" "BOOST"
using "CHROMIUMDRAIN_1"
data "OnApplyFunctors" "IF(HasActionResource('SpellSlot', 1,3, false, false, context.Target)):UseActionResource(SpellSlot,1,3);IF(not HasActionResource('SpellSlot', 1,3, false, false, context.Target)):ApplyStatus(CHROMIUMDRAIN_2,100,-1);RemoveStatus(CHROMIUMDRAIN_3)"

new entry "CHROMIUMDRAIN_4"
type "StatusData"
data "StatusType" "BOOST"
using "CHROMIUMDRAIN_1"
data "OnApplyFunctors" "IF(HasActionResource('SpellSlot', 1,4, false, false, context.Target)):UseActionResource(SpellSlot,1,4);IF(not HasActionResource('SpellSlot', 1,4, false, false, context.Target)):ApplyStatus(CHROMIUMDRAIN_3,100,-1);RemoveStatus(CHROMIUMDRAIN_4)"

new entry "CHROMIUMDRAIN_5"
type "StatusData"
data "StatusType" "BOOST"
using "CHROMIUMDRAIN_1"
data "OnApplyFunctors" "IF(HasActionResource('SpellSlot', 1,5, false, false, context.Target)):UseActionResource(SpellSlot,1,5);IF(not HasActionResource('SpellSlot', 1,5, false, false, context.Target)):ApplyStatus(CHROMIUMDRAIN_4,100,-1);RemoveStatus(CHROMIUMDRAIN_5)"

new entry "CHROMIUMDRAIN_6"
type "StatusData"
data "StatusType" "BOOST"
using "CHROMIUMDRAIN_1"
data "OnApplyFunctors" "IF(HasActionResource('SpellSlot', 1,6, false, false, context.Target)):UseActionResource(SpellSlot,1,6);IF(not HasActionResource('SpellSlot', 1,6, false, false, context.Target)):ApplyStatus(CHROMIUMDRAIN_5,100,-1);RemoveStatus(CHROMIUMDRAIN_6)"
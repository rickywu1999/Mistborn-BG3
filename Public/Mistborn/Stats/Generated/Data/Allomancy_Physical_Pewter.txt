// Pewter Enhance
new entry "PewterEnhance_Container"
type "SpellData"
data "SpellType" "Shout"
data "ContainerSpells" "PewterEnhance_Base;PewterEnhance_Enhance;PewterEnhance_Flare"
data "TargetRadius" "1.5"
data "TargetConditions" "Self()"
data "Icon" "Spell_Physical_Pewter_Enhance"
data "DisplayName" "h0b237ca447fb4310a1bc27e818b6518152g8;1"
data "Description" "h0ab304feea5f43628c0643b047849df650fb;5"
data "SpellProperties" "ApplyStatus(PEWTERENHANCE,100,2);ApplyStatus(PEWTERENHANCE_FIRSTTURN,100,1);RegainHitPoints(5)"
data "TooltipStatusApply" "ApplyStatus(PEWTERENHANCE,100,2)"
data "Requirements" "Combat"
data "RequirementConditions" "not HasStatus('PEWTERENHANCE') and not HasStatus('PEWTERENHANCE_ENHANCE')"
data "PrepareSound" "Spell_Prepare_ClericGen_L1to3_01"
data "PrepareLoopSound" "Spell_Loop_ClericGen_L1to3"
data "CastSound" "Spell_Cast_Buff_Thaumaturgy_L0"
data "TargetSound" "Spell_Impact_Buff_Thaumaturgy_L0"
data "CastTextEvent" "Cast"
data "UseCosts" "ActionPoint:1;MetalSlots:1"
data "SpellAnimation" "9122eb08-93f1-4010-a275-f5ae3ec7c76e,,;,,;9fb11cca-02d4-4d2f-955f-2826c0553b17,,;5103d398-d8de-4aa4-9633-db2e1b7f6254,,;5301d674-b7da-47b6-b4cf-2802ba33a9e9,,;,,;86b3cf93-21fb-4a3d-bed9-97d0a567d084,,;,,;,,"
data "VerbalIntent" "Utility"
data "SpellFlags" "IsMelee;IsLinkedSpellContainer"
data "HitAnimationType" "MagicalNonDamage"
data "PrepareEffect" "e50b62f4-93ad-4c5e-82d7-7f2f6e25acd4"
data "CastEffect" "ccdad0c8-4ef6-4f07-bf35-80c9a9023556"

new entry "PewterEnhance_Base"
type "SpellData"
data "SpellType" "Shout"
using "PewterEnhance_Container"
data "SpellContainerID" "PewterEnhance_Container"

new entry "PewterEnhance_Enhance"
type "SpellData"
data "SpellType" "Shout"
using "PewterEnhance_Container"
data "SpellContainerID" "PewterEnhance_Container"
data "Icon" "Spell_Physical_Pewter_Enhance_Enhance"
data "DisplayName" "ha6cf8316588e4653a7d93a17ef9b986c8938;1"
data "Description" "h4c326a9159b2439fb1866d0a2ee501b2d36d;5"
data "SpellProperties" "ApplyStatus(PEWTERENHANCE_ENHANCE,100,2);ApplyStatus(PEWTERENHANCE_FIRSTTURN,100,1);RegainHitPoints(10)"
data "TooltipStatusApply" "ApplyStatus(PEWTERENHANCE_ENHANCE,100,2)"
data "UseCosts" "ActionPoint:1;MetalSlots:2"

new entry "PewterEnhance_Flare"
type "SpellData"
data "SpellType" "Shout"
using "PewterEnhance_Container"
data "SpellContainerID" "PewterEnhance_Container"
data "Icon" "Spell_Physical_Pewter_Enhance_Flare"
data "RequirementConditions" "HasStatus('FLARING_UNLOCK')"
data "TooltipPermanentWarnings" "c98b3f22-3bad-467c-9e68-1342ab3b07b5"
data "DisplayName" "hcc7428dbdfe74b21b9e0f9363d46ade5e3g1;1"
data "Description" "hf30ad5b168394063a875cebb7c564bb3fabe;5"
data "SpellProperties" "ApplyStatus(PEWTERENHANCE_FLARE,100,2);ApplyStatus(PEWTERENHANCE_FIRSTTURN,100,1);RegainHitPoints(15)"
data "TooltipStatusApply" "ApplyStatus(PEWTERENHANCE_FLARE,100,2)"
data "UseCosts" "ActionPoint:1;MetalSlots:4"

new entry "PewterEnhance_Free"
type "SpellData"
data "SpellType" "Shout"
using "PewterEnhance_Base"
data "ContainerSpells" ""
data "SpellContainerID" ""
data "UseCosts" "MetalSlots:1"
data "FollowUpOriginalSpell" "PewterEnhance"
data "RequirementConditions" "not HasStatus('PEWTERENHANCE_FIRSTTURN')"
data "Cooldown" "OncePerTurn"
data "SpellProperties" "ApplyStatus(PEWTERENHANCE,100,1)"
data "TooltipStatusApply" "ApplyStatus(PEWTERENHANCE,100,1)"
data "SpellFlags" "IsMelee;"

new entry "PewterEnhance_Free_Enhance"
type "SpellData"
data "SpellType" "Shout"
using "PewterEnhance_Enhance"
data "ContainerSpells" ""
data "SpellContainerID" ""
data "UseCosts" "MetalSlots:2"
data "FollowUpOriginalSpell" "PewterEnhance_Enhance"
data "RequirementConditions" "not HasStatus('PEWTERENHANCE_FIRSTTURN')"
data "Cooldown" "OncePerTurn"
data "SpellProperties" "ApplyStatus(PEWTERENHANCE_ENHANCE,100,1)"
data "TooltipStatusApply" "ApplyStatus(PEWTERENHANCE_ENHANCE,100,1)"
data "SpellContainerID" ""
data "SpellFlags" "IsMelee;"

new entry "PewterEnhance_Free_Flare"
type "SpellData"
data "SpellType" "Shout"
using "PewterEnhance_Flare"
data "ContainerSpells" ""
data "SpellContainerID" ""
data "UseCosts" "MetalSlots:4"
data "FollowUpOriginalSpell" "PewterEnhance_Flare"
data "RequirementConditions" "not HasStatus('PEWTERENHANCE_FIRSTTURN')"
data "Cooldown" "OncePerTurn"
data "SpellProperties" "ApplyStatus(PEWTERENHANCE_FLARE,100,1)"
data "TooltipStatusApply" "ApplyStatus(PEWTERENHANCE_FLARE,100,1)"
data "SpellContainerID" ""
data "SpellFlags" "IsMelee;"

new entry "PEWTERENHANCE"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "h0b237ca447fb4310a1bc27e818b6518152g8;1"
data "Description" "h8fa3c321e1f54d82b189a9c2ab12eca5gfaf;5"
data "DescriptionParams" "1;RegainHitPoints(5);3;1"
data "Icon" "Spell_Physical_Pewter_Enhance"
data "StackId" "PEWTERENHANCE"
data "StackType" "Additive"
data "Boosts" "RollBonus(SavingThrow,1,Strength);RollBonus(SavingThrow,1,Dexterity);RollBonus(SavingThrow,1,Constitution);RollBonus(Attack,1);DamageReduction(Piercing, Flat, 3);DamageReduction(Bludgeoning, Flat, 3);DamageReduction(Slashing, Flat, 3);UnlockSpell(PewterEnhance_Free);UnlockSpellVariant(SpellId('PewterEnhance_Free'),ModifyIconGlow())"
data "Passives" "PewterFatigue_Passive;PewterHeal_Passive"
data "TickType" "EndTurn"
data "StatusGroups" "SG_RemoveOnRespec"
data "StatusEffect" "d187f3f9-b9cf-428e-a1df-39e0a92ec7c4"
data "OnRemoveFunctors" "RemoveStatus(PEWTERFATIGUE)"
data "DynamicAnimationTag" "b6aa23c3-c96d-42d5-8ffa-8d441d18faa7"

new entry "PEWTERENHANCE_ENHANCE"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "ha6cf8316588e4653a7d93a17ef9b986c8938;1"
data "Description" "h8fa3c321e1f54d82b189a9c2ab12eca5gfaf;5"
data "DescriptionParams" "2;RegainHitPoints(10);5;2"
data "Icon" "Spell_Physical_Pewter_Enhance_Enhance"
data "StackId" "PEWTERENHANCE_ENHANCE"
data "StackType" "Additive"
data "Boosts" "RollBonus(SavingThrow,2,Strength);RollBonus(SavingThrow,2,Dexterity);RollBonus(SavingThrow,2,Constitution);RollBonus(Attack,2);DamageReduction(Piercing, Flat, 5);DamageReduction(Bludgeoning, Flat, 5);DamageReduction(Slashing, Flat, 5);UnlockSpell(PewterEnhance_Free_Enhance);UnlockSpellVariant(SpellId('PewterEnhance_Free_Enhance'),ModifyIconGlow())"
data "Passives" "PewterFatigue_Passive_Enhance;PewterHeal_Passive_Enhance"
data "TickType" "EndTurn"
data "StatusGroups" "SG_RemoveOnRespec"
data "StatusEffect" "d187f3f9-b9cf-428e-a1df-39e0a92ec7c4"
data "OnRemoveFunctors" "RemoveStatus(PEWTERFATIGUE_ENHANCE)"
data "DynamicAnimationTag" "b6aa23c3-c96d-42d5-8ffa-8d441d18faa7"

new entry "PEWTERENHANCE_FLARE"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "hcc7428dbdfe74b21b9e0f9363d46ade5e3g1;1"
data "Description" "h8fa3c321e1f54d82b189a9c2ab12eca5gfaf;5"
data "DescriptionParams" "4;RegainHitPoints(15);10;4"
data "Icon" "Spell_Physical_Pewter_Enhance_Flare"
data "StackId" "PEWTERENHANCE_FLARE"
data "StackType" "Additive"
data "Boosts" "RollBonus(SavingThrow,4,Strength);RollBonus(SavingThrow,4,Dexterity);RollBonus(SavingThrow,4,Constitution);RollBonus(Attack,4);DamageReduction(Piercing, Flat, 10);DamageReduction(Bludgeoning, Flat, 10);DamageReduction(Slashing, Flat, 10);UnlockSpell(PewterEnhance_Free_Flare);UnlockSpellVariant(SpellId('PewterEnhance_Free_Flare'),ModifyIconGlow())"
data "Passives" "PewterFatigue_Passive_Flare;PewterHeal_Passive_Flare"
data "TickType" "EndTurn"
data "StatusGroups" "SG_RemoveOnRespec"
data "StatusEffect" "d187f3f9-b9cf-428e-a1df-39e0a92ec7c4"
data "OnRemoveFunctors" "RemoveStatus(PEWTERFATIGUE_FLARE)"
data "DynamicAnimationTag" "b6aa23c3-c96d-42d5-8ffa-8d441d18faa7"

new entry "PewterFatigue_Passive"
type "PassiveData"
data "DisplayName" "h0b237ca447fb4310a1bc27e818b6518152g8;1"
data "Description" "h0ab304feea5f43628c0643b047849df650fb;5"
data "Icon" "Spell_Physical_Pewter_Enhance"
data "StatsFunctorContext" "OnAttacked"
data "Conditions" "IsAttack() and (IsHit() or IsCritical()) and not IsMiss() and not IsCriticalMiss()"
data "StatsFunctors" "ApplyStatus(PEWTERFATIGUE,100,-1);"
data "Properties" "IsHidden"

new entry "PewterFatigue_Passive_Enhance"
type "PassiveData"
using "PewterFatigue_Passive"
data "StatsFunctors" "ApplyStatus(PEWTERFATIGUE_ENHANCE,100,-1);"

new entry "PewterFatigue_Passive_Flare"
type "PassiveData"
using "PewterFatigue_Passive"
data "StatsFunctors" "ApplyStatus(PEWTERFATIGUE_FLARE,100,-1);"

new entry "PewterHeal_Passive"
type "PassiveData"
data "DisplayName" "h0b237ca447fb4310a1bc27e818b6518152g8;1"
data "Description" "h0ab304feea5f43628c0643b047849df650fb;5"
data "Icon" "Spell_Physical_Pewter_Enhance"
data "StatsFunctorContext" "OnTurn"
data "StatsFunctors" "RegainHitPoints(5);"
data "Properties" "IsHidden"

new entry "PewterHeal_Passive_Enhance"
type "PassiveData"
using "PewterHeal_Passive"
data "StatsFunctors" "RegainHitPoints(10);"

new entry "PewterHeal_Passive_Flare"
type "PassiveData"
using "PewterHeal_Passive"
data "StatsFunctors" "RegainHitPoints(15);"

new entry "PEWTERENHANCE_FIRSTTURN"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "h0b237ca447fb4310a1bc27e818b6518152g8;1"
data "Description" "h0ab304feea5f43628c0643b047849df650fb;5"
data "Icon" "Spell_Physical_Pewter_Enhance"
data "StackId" "PEWTERENHANCE_FIRSTTURN"
data "TickType" "EndTurn"
data "StatusGroups" "SG_RemoveOnRespec"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator"

new entry "PEWTERFATIGUE"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "h4c31694fc59e46708bb559634e098cd2e933;1"
data "Description" "hd95d6fdf6a454a55baff148fb30ab97a4d4f;5"
data "DescriptionParams" "1"
data "Icon" "Spell_Physical_Pewter_Enhance"
data "StatusGroups" "SG_RemoveOnRespec"
data "OnRemoveFunctors" "IF(not HasStatus('DOWNED')):DealDamage(1)"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator"

new entry "PEWTERFATIGUE_ENHANCE"
type "StatusData"
data "StatusType" "BOOST"
using "PEWTERFATIGUE"
data "Description" "hd95d6fdf6a454a55baff148fb30ab97a4d4f;5"
data "DescriptionParams" "2"
data "OnRemoveFunctors" "IF(not HasStatus('DOWNED')):DealDamage(2)"

new entry "PEWTERFATIGUE_FLARE"
type "StatusData"
data "StatusType" "BOOST"
using "PEWTERFATIGUE"
data "Description" "hd95d6fdf6a454a55baff148fb30ab97a4d4f;5"
data "DescriptionParams" "4"
data "OnRemoveFunctors" "IF(not HasStatus('DOWNED')):DealDamage(4)"
